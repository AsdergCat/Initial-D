@model initial_d.Models.APIModels.PublicacionMec

@{
    ViewBag.Title = $"{Model.title} | Detalles";

    string goBack_Url = Url.Action("PubList", "PublicacionesMec");

    string mechId = Model.appuser_id;
    string mechStatus = Model.public_status_id;

    string pendingId = "PEN";
    string actId = "ACT";
    string inactId = "INA";
    string debtId = "DEB";
}


<!-- TITULO  |  BUTTONS -->
<div class="header">

    <div class="header-title">
        <h2>
            <i class="fa fa-newspaper" aria-hidden="true"></i>
            Publicación de Mecánico
        </h2>
    </div>

    <div class="header-buttons">
        <a href="@goBack_Url" class="btn btn-sm btn-secondary mr-3" role="button">
            <i class="fa fa-caret-left" aria-hidden="true"></i>
            Volver
        </a>

        <!-- ACTIONS DROPDOWN -->
        <div class="dropdown">

            <button class="btn btn-yellow btn-sm dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-cog mr-1 " aria-hidden="true"></i>
                Actions
            </button>
            
            <!-- DROPDOWN -->
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <div class="d-flex flex-column">
                    
                    <!-- TODO Implementar el Modal para ACTIVAR/DESACTIVAR PUBLICACIÓN -->
                    @if (mechStatus.Equals(pendingId))
                    {
                        <a class="dropdown-item small"
                           data-toggle="modal" href="#" data-new-state="@inactId">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                            Acepar/Rechazar Publicación
                        </a>
                    } else if (mechStatus.Equals(inactId))
                    {
                        <a class="dropdown-item small"
                           data-toggle="modal" href="#" data-mech-id="@mechStatus" data-new-state="@actId">
                            <i class="fa fa-unlock-alt" aria-hidden="true"></i>
                            Activar
                        </a>
                    }
                    else if(mechStatus.Equals(actId))
                    {
                        <a class="dropdown-item small"
                           data-toggle="modal" href="#" data-mech-id="@mechStatus" data-new-state="@inactId">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                            Desactivar
                        </a>
                    }

                    <a class="dropdown-item small" role="button" data-toggle="modal" data-mech-id="@mechId" href="#delete-modal">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        Eliminar
                    </a>

                </div>

            </div>

        </div>
    </div>

</div>



